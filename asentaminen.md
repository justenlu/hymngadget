# AsentaminenTämä asennusohje on tarjoitettu henkilöille, joilla on perustaidot MySQL:ää ja PHP:tä hyödyntävien verkkopalvelujen pystyttämisestä. Tässä ohjeessa oletetaan, että palvelinympäristä (MySQL, Apache, PHP) on jo pystyssä.Veisuuvekottimen asentamisessa on kaksi osaa: tietokannan perustaminen ja WWW-palvelimelle asennettavan osan asentaminen. SQL-komennot tietokannan muodostamiseksi tietokantapalvelimelle ovat tiedostossa `hymngadget.sql`. WWW-palvelimelle asennettava osa on kansiossa `gadget`.Veisuuvekotinta kehitettäessä tietokannanhallintajärjestelmänä toimi MySQL 5.5, joten ainakin tähän tietokannan saa asennettua. Tietokannan asentamisen lisäksi on luotava MySQL:ään käyttäjä, jolla on oikeus lukea ja kirjoittaa tietokantaa.WWW-palvelimessa, jolle Veisuuvekotin asennetaan, täytyy olla tuki PHP:lle. Veisuuvekotinta kehitettäessä palvelimelle oli asennettuna PHP 5.3-sarjalainen. Veisuuvekotin asennetaan palvelimelle seuraavasti:1. Asennetaan tietokanta2. Varmistetaan, että WWW-palvelin on konfiguroitu ajamaan hakemistossa olevat PHP-tiedostot sen sijaan, että se näyttäisi PHP-tiedostojen lähdekoodin. Tämä on tärkeää, jotta `config_db_connection.php`-tiedostoon talletettava salasana ei paljastu.3. Kopioidaan kansio `gadget` WWW-palvelimen hakemistoon, jonne verkkosivut sijoitetaan.4. Muokataan `gadget`-hakemistossa tiedostoa `config_db_connection.php.template` kirjoittamalla tiedot, joiden avulla Veisuuvekotin saa yhteyden tietokantaan: tietokantapalvelimen osoite (`$dbhost`), tietokannan nimi (`$dbname`), tietokantakäyttäjän nimi (`$dbuser`) ja tietokantakäyttäjän salasana (`$dbpass`). Tallennetaan muokattu tiedosto nimellä `config_db_connection.php`. 5. Muokataan `gadget`-hakemistossa tiedostoa `config_ui.php.template` kirjoittamalla nimi, joka luotavalle laulukirjapalvelulle halutaan antaa. Tallennetaan muokattu tiedosto nimellä `config_ui.php`. Veisuuvekottimen WWW-käyttäliittymässä ei ole toimintoa käyttäjien tai laulukirjojen lisäämiseksi Veisuuvekottimeen. Laulujen lisäämiseen Veisuuvekottimessa on toiminto, kunhan kirjat on saatu lisättyä.Käyttäjätunnuksia voi luoda lisäämällä tietokannassa `user`-tauluun uusia rivejä. Esimerkiksi käyttäjä Kille Kitaristi, jonka käyttäjätunnukseksi haluttaisiin `kille` ja salasanaksi `kop1mnvtnam` lisättäisiin tietokantaan seuraavalla SQL-lauseella:``` SQLINSERT INTO user(username, first_name, last_name, password)VALUES ('kille', 'Kille', 'Kitaristi', password('kop1mnvtnam'));```Kirjoja lisätään vastaavaan tapaan. Virsikirja-niminen kirja lisätään tietokantaan komennolla:``` SQLINSERT INTO book(name) values ('Virsikirja');```